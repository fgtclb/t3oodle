<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:t3oodle="http://typo3.org/ns/T3/T3oodle/ViewHelpers"
      data-namespace-typo3-fluid="true">

    <tr>
        <th class="participant"></th>
        <f:for each="{poll.options}" as="option" iteration="iterator">
            <th title="{option.name}" class="title {f:if(condition:'{poll.finalOption} === {option}', then:'is-final-option ')}{f:if(condition:'{iterator.isEven}', then:'even', else:'odd')}">{option.name}</th>
        </f:for>
    </tr>
    <tr>
        <th class="participant">{poll.votes -> f:count()} participants<f:if condition="{vote.uid}"> (incl. you)</f:if> </th>
        <f:for each="{poll.options}" as="option" iteration="iterator">
            <th class="total {f:if(condition:'{poll.finalOption} === {option}', then:'is-final-option ')}{f:if(condition:'{iterator.isEven}', then:'even', else:'odd')}">
                <f:if condition="{poll.optionTotals.{option.uid}}">
                    <f:then>{poll.optionTotals.{option.uid}}</f:then>
                    <f:else>0</f:else>
                </f:if>
            </th>
        </f:for>
    </tr>

</html>
